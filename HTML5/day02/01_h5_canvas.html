<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style>
		#can{
			background-color: #ccc;
		}
	</style>
</head>
<body>
	<button id="btn">发射</button>
	<hr>
	<canvas id="can" width="500px" height="400"></canvas>
	<script>
	function click(){
		var can=document.getElementById('can');
		var c=can.getContext("2d");
		c.strokeWidth=1;
		var x=0;
		var y=0;
		var cheng=1;
		var cheng2=1;
		var time=window.setInterval(function(){
			x+=10*cheng;
			y+=10*cheng2;
			if (y>400-100) {
				cheng2=-1;
			}else if(y<=0){
				cheng2=1;
			}
			if (x>400) {
				cheng=-1;
			}else if(x<=0){
				cheng=1;
			}
			
			c.clearRect(0,0,500,400);
			c.strokeRect(x,y,100,100);
		},1);
}
	var btn=document.getElementById('btn');
	btn.onclick=function(){
		click();
	}
	</script>
</body>
</html>